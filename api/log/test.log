  [1m[35m (61.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "api_test"[0m
  [1m[35m (101.8ms)[0m  [1m[35mCREATE DATABASE "api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "interviewees" CASCADE[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "interviewees" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "firstname" character varying, "lastname" character varying, "bio" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "recruiters" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "recruiters" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "firstname" character varying, "lastname" character varying, "company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417085139)[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230417085126);

[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 12:21:00.004149"], ["updated_at", "2023-04-17 12:21:00.004149"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "661b996b63e6bb46e800d3d8726b4d7d3fabe88c"], ["created_at", "2023-04-17 12:21:00.011065"], ["updated_at", "2023-04-17 12:21:00.011065"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.365244', '2023-04-17 12:21:00.365244'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.365244', '2023-04-17 12:21:00.365244');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.373346', '2023-04-17 12:21:00.373346'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.373346', '2023-04-17 12:21:00.373346')[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.560902', '2023-04-17 12:23:57.560902'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.560902', '2023-04-17 12:23:57.560902');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.565611', '2023-04-17 12:23:57.565611'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.565611', '2023-04-17 12:23:57.565611')[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.701313"], ["updated_at", "2023-04-17 12:23:57.701313"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.715302"], ["updated_at", "2023-04-17 12:23:57.715302"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.732591"], ["updated_at", "2023-04-17 12:23:57.732591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.747970"], ["updated_at", "2023-04-17 12:23:57.747970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
IntervieweesControllerTest - test_should_delete_interviewee_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.764347"], ["updated_at", "2023-04-17 12:23:57.764347"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.778201"], ["updated_at", "2023-04-17 12:23:57.778201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.7ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.793494"], ["updated_at", "2023-04-17 12:23:57.793494"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.966970', '2023-04-17 12:24:37.966970'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.966970', '2023-04-17 12:24:37.966970');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.970438', '2023-04-17 12:24:37.970438'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.970438', '2023-04-17 12:24:37.970438')[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.074286"], ["updated_at", "2023-04-17 12:24:38.074286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.091050"], ["updated_at", "2023-04-17 12:24:38.091050"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.104457"], ["updated_at", "2023-04-17 12:24:38.104457"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.118950"], ["updated_at", "2023-04-17 12:24:38.118950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.132512"], ["updated_at", "2023-04-17 12:24:38.132512"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
IntervieweesControllerTest - test_should_delete_interviewee_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.149672"], ["updated_at", "2023-04-17 12:24:38.149672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.165798"], ["updated_at", "2023-04-17 12:24:38.165798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.947318', '2023-04-17 12:41:42.947318'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.947318', '2023-04-17 12:41:42.947318');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.952065', '2023-04-17 12:41:42.952065'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.952065', '2023-04-17 12:41:42.952065')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.055879"], ["updated_at", "2023-04-17 12:41:43.055879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:41:43.219469"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 74ms (Views: 15.6ms | ActiveRecord: 2.8ms | Allocations: 22917)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.259152"], ["updated_at", "2023-04-17 12:41:43.259152"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.265806"], ["updated_at", "2023-04-17 12:41:43.265806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 2629)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.279368"], ["updated_at", "2023-04-17 12:41:43.279368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.285727"], ["updated_at", "2023-04-17 12:41:43.285727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2410)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.298503"], ["updated_at", "2023-04-17 12:41:43.298503"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
IntervieweesControllerTest - test_should_delete_interviewee_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.321287"], ["updated_at", "2023-04-17 12:41:43.321287"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.507816', '2023-04-17 12:47:36.507816'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.507816', '2023-04-17 12:47:36.507816');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.511812', '2023-04-17 12:47:36.511812'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.511812', '2023-04-17 12:47:36.511812')[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.616218"], ["updated_at", "2023-04-17 12:47:36.616218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.621570"], ["updated_at", "2023-04-17 12:47:36.621570"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 16ms (ActiveRecord: 0.9ms | Allocations: 20429)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.656920"], ["updated_at", "2023-04-17 12:47:36.656920"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 12ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3029)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.676976"], ["updated_at", "2023-04-17 12:47:36.676976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.685349"], ["updated_at", "2023-04-17 12:47:36.685349"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.702232"], ["updated_at", "2023-04-17 12:47:36.702232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:47:36.708757"], ["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 1091)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.714747"], ["updated_at", "2023-04-17 12:47:36.714747"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.816378', '2023-04-17 12:47:50.816378'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.816378', '2023-04-17 12:47:50.816378');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.820072', '2023-04-17 12:47:50.820072'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.820072', '2023-04-17 12:47:50.820072')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.933727"], ["updated_at", "2023-04-17 12:47:50.933727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190963" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (ActiveRecord: 0.7ms | Allocations: 20430)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.967491"], ["updated_at", "2023-04-17 12:47:50.967491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 756)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.976875"], ["updated_at", "2023-04-17 12:47:50.976875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.992568"], ["updated_at", "2023-04-17 12:47:50.992568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.998216"], ["updated_at", "2023-04-17 12:47:50.998216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 2625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:51.010886"], ["updated_at", "2023-04-17 12:47:51.010886"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:51 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:47:51.015871"], ["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1091)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:51.021310"], ["updated_at", "2023-04-17 12:47:51.021310"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:51 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 422 Unprocessable Entity in 10ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 2410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.804622', '2023-04-17 12:49:07.804622'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.804622', '2023-04-17 12:49:07.804622');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.808937', '2023-04-17 12:49:07.808937'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.808937', '2023-04-17 12:49:07.808937')[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.929591"], ["updated_at", "2023-04-17 12:49:07.929591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 17ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 21073)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.965712"], ["updated_at", "2023-04-17 12:49:07.965712"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.970937"], ["updated_at", "2023-04-17 12:49:07.970937"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:49:07.977243"], ["id", 980190965]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 1222)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.982494"], ["updated_at", "2023-04-17 12:49:07.982494"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.997340"], ["updated_at", "2023-04-17 12:49:07.997340"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:08.003505"], ["updated_at", "2023-04-17 12:49:08.003505"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:49:08 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2240)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:08.013031"], ["updated_at", "2023-04-17 12:49:08.013031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190969" for 127.0.0.1 at 2023-04-17 15:49:08 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190969]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 455)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.068032', '2023-04-17 12:57:54.068032'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.068032', '2023-04-17 12:57:54.068032');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.071504', '2023-04-17 12:57:54.071504'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.071504', '2023-04-17 12:57:54.071504')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.199479"], ["updated_at", "2023-04-17 12:57:54.199479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:57:54.277971"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 22ms (Views: 1.4ms | ActiveRecord: 1.4ms | Allocations: 21574)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.286132"], ["updated_at", "2023-04-17 12:57:54.286132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 5ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1694)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.305114"], ["updated_at", "2023-04-17 12:57:54.305114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 515)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.315117"], ["updated_at", "2023-04-17 12:57:54.315117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.330647"], ["updated_at", "2023-04-17 12:57:54.330647"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.337703"], ["updated_at", "2023-04-17 12:57:54.337703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190968" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.348510"], ["updated_at", "2023-04-17 12:57:54.348510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.77ms)
Completed 200 OK in 75ms (Views: 74.4ms | ActiveRecord: 0.2ms | Allocations: 2937)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.202687', '2023-04-17 12:59:15.202687'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.202687', '2023-04-17 12:59:15.202687');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.206458', '2023-04-17 12:59:15.206458'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.206458', '2023-04-17 12:59:15.206458')[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.319789"], ["updated_at", "2023-04-17 12:59:15.319789"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewees" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.327985"], ["updated_at", "2023-04-17 12:59:15.327985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:59:15.349939"], ["id", 980190964]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 17ms (Views: 1.4ms | ActiveRecord: 1.3ms | Allocations: 21573)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.358707"], ["updated_at", "2023-04-17 12:59:15.358707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1692)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.369073"], ["updated_at", "2023-04-17 12:59:15.369073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190966" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.378705"], ["updated_at", "2023-04-17 12:59:15.378705"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.387215"], ["updated_at", "2023-04-17 12:59:15.387215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (1.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 401 Unauthorized in 4ms (Views: 0.5ms | ActiveRecord: 1.5ms | Allocations: 515)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.400698"], ["updated_at", "2023-04-17 12:59:15.400698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.57ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.2ms | Allocations: 2116)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.895238', '2023-04-17 13:00:06.895238'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.895238', '2023-04-17 13:00:06.895238');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.899030', '2023-04-17 13:00:06.899030'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.899030', '2023-04-17 13:00:06.899030')[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.011094"], ["updated_at", "2023-04-17 13:00:07.011094"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 13ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 22416)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.040752"], ["updated_at", "2023-04-17 13:00:07.040752"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:00:07.047321"], ["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 1267)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.053491"], ["updated_at", "2023-04-17 13:00:07.053491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.060027"], ["updated_at", "2023-04-17 13:00:07.060027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190966" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.8ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.071297"], ["updated_at", "2023-04-17 13:00:07.071297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 721)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.079897"], ["updated_at", "2023-04-17 13:00:07.079897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1476)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.089391"], ["updated_at", "2023-04-17 13:00:07.089391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms | Allocations: 2115)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.510952', '2023-04-17 13:01:31.510952'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.510952', '2023-04-17 13:01:31.510952');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.515134', '2023-04-17 13:01:31.515134'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.515134', '2023-04-17 13:01:31.515134')[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.615685"], ["updated_at", "2023-04-17 13:01:31.615685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 401 Unauthorized in 14ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 21073)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.645476"], ["updated_at", "2023-04-17 13:01:31.645476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 380)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.652126"], ["updated_at", "2023-04-17 13:01:31.652126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1486)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.665095"], ["updated_at", "2023-04-17 13:01:31.665095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190966" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms | Allocations: 2222)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.678792"], ["updated_at", "2023-04-17 13:01:31.678792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:01:31.684130"], ["id", 980190967]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1098)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.689217"], ["updated_at", "2023-04-17 13:01:31.689217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:01:31.694898"], ["updated_at", "2023-04-17 13:01:31.694898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190969], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 2368)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.703629"], ["updated_at", "2023-04-17 13:01:31.703629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190970" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190970"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190970]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms | Allocations: 348)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.726726', '2023-04-17 13:07:42.726726'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.726726', '2023-04-17 13:07:42.726726');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.730303', '2023-04-17 13:07:42.730303'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.730303', '2023-04-17 13:07:42.730303')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.865059"], ["updated_at", "2023-04-17 13:07:42.865059"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 13ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 21073)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.896907"], ["updated_at", "2023-04-17 13:07:42.896907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms | Allocations: 487)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.907348"], ["updated_at", "2023-04-17 13:07:42.907348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2478)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.7ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.919546"], ["updated_at", "2023-04-17 13:07:42.919546"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.928197"], ["updated_at", "2023-04-17 13:07:42.928197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:07:42.933428"], ["id", 980190967]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1091)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.938033"], ["updated_at", "2023-04-17 13:07:42.938033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:07:42.943574"], ["updated_at", "2023-04-17 13:07:42.943574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190969], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 201 Created in 9ms (Views: 3.0ms | ActiveRecord: 1.3ms | Allocations: 3264)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.953998"], ["updated_at", "2023-04-17 13:07:42.953998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190970" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190970"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.315153', '2023-04-17 13:08:23.315153'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.315153', '2023-04-17 13:08:23.315153');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.319961', '2023-04-17 13:08:23.319961'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.319961', '2023-04-17 13:08:23.319961')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.472082"], ["updated_at", "2023-04-17 13:08:23.472082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:08:23.495334"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 1.1ms | Allocations: 21574)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.502754"], ["updated_at", "2023-04-17 13:08:23.502754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:08:23.507107"], ["updated_at", "2023-04-17 13:08:23.507107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190965], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 201 Created in 9ms (Views: 4.0ms | ActiveRecord: 1.0ms | Allocations: 3263)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.518309"], ["updated_at", "2023-04-17 13:08:23.518309"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 882)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.529267"], ["updated_at", "2023-04-17 13:08:23.529267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.535330"], ["updated_at", "2023-04-17 13:08:23.535330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190968" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.545125"], ["updated_at", "2023-04-17 13:08:23.545125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.554459"], ["updated_at", "2023-04-17 13:08:23.554459"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.318910', '2023-04-17 13:10:14.318910'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.318910', '2023-04-17 13:10:14.318910');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.322434', '2023-04-17 13:10:14.322434'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.322434', '2023-04-17 13:10:14.322434')[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.434788"], ["updated_at", "2023-04-17 13:10:14.434788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 401 Unauthorized in 12ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 21093)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.461629"], ["updated_at", "2023-04-17 13:10:14.461629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190964" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 2249)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.472695"], ["updated_at", "2023-04-17 13:10:14.472695"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.478210"], ["updated_at", "2023-04-17 13:10:14.478210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:10:14.481660"], ["updated_at", "2023-04-17 13:10:14.481660"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 828)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.486937"], ["updated_at", "2023-04-17 13:10:14.486937"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190968" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 355)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.495067"], ["updated_at", "2023-04-17 13:10:14.495067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 676)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.502299"], ["updated_at", "2023-04-17 13:10:14.502299"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:10:14.506729"], ["id", 980190970]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 695)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.460322', '2023-04-17 15:27:32.460322'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.460322', '2023-04-17 15:27:32.460322');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.473383', '2023-04-17 15:27:32.473383'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.473383', '2023-04-17 15:27:32.473383')[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.731896"], ["updated_at", "2023-04-17 15:27:32.731896"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.6ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 19ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 21093)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.854918"], ["updated_at", "2023-04-17 15:27:32.854918"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.3ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 1.0ms | Allocations: 488)
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.866757"], ["updated_at", "2023-04-17 15:27:32.866757"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.874686"], ["updated_at", "2023-04-17 15:27:32.874686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 15:27:32.880364"], ["updated_at", "2023-04-17 15:27:32.880364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 201 Created in 9ms (Views: 4.0ms | ActiveRecord: 0.7ms | Allocations: 2563)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.892690"], ["updated_at", "2023-04-17 15:27:32.892690"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.4ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 15:27:32.899115"], ["id", 980190968]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 695)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.905217"], ["updated_at", "2023-04-17 15:27:32.905217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.55ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 381)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.916545"], ["updated_at", "2023-04-17 15:27:32.916545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 845)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
