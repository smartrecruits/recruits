  [1m[35m (61.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "api_test"[0m
  [1m[35m (101.8ms)[0m  [1m[35mCREATE DATABASE "api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "interviewees" CASCADE[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "interviewees" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "firstname" character varying, "lastname" character varying, "bio" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "recruiters" CASCADE[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "recruiters" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "firstname" character varying, "lastname" character varying, "company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417085139)[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230417085126);

[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 12:21:00.004149"], ["updated_at", "2023-04-17 12:21:00.004149"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "661b996b63e6bb46e800d3d8726b4d7d3fabe88c"], ["created_at", "2023-04-17 12:21:00.011065"], ["updated_at", "2023-04-17 12:21:00.011065"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.365244', '2023-04-17 12:21:00.365244'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.365244', '2023-04-17 12:21:00.365244');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.373346', '2023-04-17 12:21:00.373346'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:21:00.373346', '2023-04-17 12:21:00.373346')[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.560902', '2023-04-17 12:23:57.560902'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.560902', '2023-04-17 12:23:57.560902');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.565611', '2023-04-17 12:23:57.565611'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:23:57.565611', '2023-04-17 12:23:57.565611')[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.701313"], ["updated_at", "2023-04-17 12:23:57.701313"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.715302"], ["updated_at", "2023-04-17 12:23:57.715302"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.732591"], ["updated_at", "2023-04-17 12:23:57.732591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.747970"], ["updated_at", "2023-04-17 12:23:57.747970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
IntervieweesControllerTest - test_should_delete_interviewee_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.764347"], ["updated_at", "2023-04-17 12:23:57.764347"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.778201"], ["updated_at", "2023-04-17 12:23:57.778201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.7ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:23:57.793494"], ["updated_at", "2023-04-17 12:23:57.793494"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.966970', '2023-04-17 12:24:37.966970'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.966970', '2023-04-17 12:24:37.966970');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.970438', '2023-04-17 12:24:37.970438'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:24:37.970438', '2023-04-17 12:24:37.970438')[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.074286"], ["updated_at", "2023-04-17 12:24:38.074286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.091050"], ["updated_at", "2023-04-17 12:24:38.091050"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.104457"], ["updated_at", "2023-04-17 12:24:38.104457"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.118950"], ["updated_at", "2023-04-17 12:24:38.118950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.132512"], ["updated_at", "2023-04-17 12:24:38.132512"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
IntervieweesControllerTest - test_should_delete_interviewee_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.149672"], ["updated_at", "2023-04-17 12:24:38.149672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:24:38.165798"], ["updated_at", "2023-04-17 12:24:38.165798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.947318', '2023-04-17 12:41:42.947318'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.947318', '2023-04-17 12:41:42.947318');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.952065', '2023-04-17 12:41:42.952065'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:41:42.952065', '2023-04-17 12:41:42.952065')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.055879"], ["updated_at", "2023-04-17 12:41:43.055879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:41:43.219469"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 200 OK in 74ms (Views: 15.6ms | ActiveRecord: 2.8ms | Allocations: 22917)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.259152"], ["updated_at", "2023-04-17 12:41:43.259152"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.265806"], ["updated_at", "2023-04-17 12:41:43.265806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 2629)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.279368"], ["updated_at", "2023-04-17 12:41:43.279368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.285727"], ["updated_at", "2023-04-17 12:41:43.285727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2410)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.298503"], ["updated_at", "2023-04-17 12:41:43.298503"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
IntervieweesControllerTest - test_should_delete_interviewee_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:41:43.321287"], ["updated_at", "2023-04-17 12:41:43.321287"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:41:43 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.507816', '2023-04-17 12:47:36.507816'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.507816', '2023-04-17 12:47:36.507816');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.511812', '2023-04-17 12:47:36.511812'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:36.511812', '2023-04-17 12:47:36.511812')[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.616218"], ["updated_at", "2023-04-17 12:47:36.616218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.621570"], ["updated_at", "2023-04-17 12:47:36.621570"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 16ms (ActiveRecord: 0.9ms | Allocations: 20429)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.656920"], ["updated_at", "2023-04-17 12:47:36.656920"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 12ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3029)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.676976"], ["updated_at", "2023-04-17 12:47:36.676976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.685349"], ["updated_at", "2023-04-17 12:47:36.685349"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.702232"], ["updated_at", "2023-04-17 12:47:36.702232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:47:36.708757"], ["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 1091)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:36.714747"], ["updated_at", "2023-04-17 12:47:36.714747"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:36 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.816378', '2023-04-17 12:47:50.816378'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.816378', '2023-04-17 12:47:50.816378');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.820072', '2023-04-17 12:47:50.820072'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:47:50.820072', '2023-04-17 12:47:50.820072')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.933727"], ["updated_at", "2023-04-17 12:47:50.933727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190963" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (ActiveRecord: 0.7ms | Allocations: 20430)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.967491"], ["updated_at", "2023-04-17 12:47:50.967491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 756)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.976875"], ["updated_at", "2023-04-17 12:47:50.976875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.992568"], ["updated_at", "2023-04-17 12:47:50.992568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:50.998216"], ["updated_at", "2023-04-17 12:47:50.998216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:50 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 2625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:51.010886"], ["updated_at", "2023-04-17 12:47:51.010886"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:47:51 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:47:51.015871"], ["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1091)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:47:51.021310"], ["updated_at", "2023-04-17 12:47:51.021310"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:47:51 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 422 Unprocessable Entity in 10ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 2410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.804622', '2023-04-17 12:49:07.804622'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.804622', '2023-04-17 12:49:07.804622');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.808937', '2023-04-17 12:49:07.808937'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:49:07.808937', '2023-04-17 12:49:07.808937')[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.929591"], ["updated_at", "2023-04-17 12:49:07.929591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 17ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 21073)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.965712"], ["updated_at", "2023-04-17 12:49:07.965712"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.970937"], ["updated_at", "2023-04-17 12:49:07.970937"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:49:07.977243"], ["id", 980190965]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 1222)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.982494"], ["updated_at", "2023-04-17 12:49:07.982494"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:07.997340"], ["updated_at", "2023-04-17 12:49:07.997340"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:49:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:08.003505"], ["updated_at", "2023-04-17 12:49:08.003505"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:49:08 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2240)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:49:08.013031"], ["updated_at", "2023-04-17 12:49:08.013031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190969" for 127.0.0.1 at 2023-04-17 15:49:08 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190969]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 455)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.068032', '2023-04-17 12:57:54.068032'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.068032', '2023-04-17 12:57:54.068032');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.071504', '2023-04-17 12:57:54.071504'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:57:54.071504', '2023-04-17 12:57:54.071504')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.199479"], ["updated_at", "2023-04-17 12:57:54.199479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:57:54.277971"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 22ms (Views: 1.4ms | ActiveRecord: 1.4ms | Allocations: 21574)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.286132"], ["updated_at", "2023-04-17 12:57:54.286132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 5ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1694)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.305114"], ["updated_at", "2023-04-17 12:57:54.305114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 515)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.315117"], ["updated_at", "2023-04-17 12:57:54.315117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.330647"], ["updated_at", "2023-04-17 12:57:54.330647"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.337703"], ["updated_at", "2023-04-17 12:57:54.337703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190968" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:57:54.348510"], ["updated_at", "2023-04-17 12:57:54.348510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 15:57:54 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.77ms)
Completed 200 OK in 75ms (Views: 74.4ms | ActiveRecord: 0.2ms | Allocations: 2937)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.202687', '2023-04-17 12:59:15.202687'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.202687', '2023-04-17 12:59:15.202687');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.206458', '2023-04-17 12:59:15.206458'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 12:59:15.206458', '2023-04-17 12:59:15.206458')[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.319789"], ["updated_at", "2023-04-17 12:59:15.319789"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewees" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.327985"], ["updated_at", "2023-04-17 12:59:15.327985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 12:59:15.349939"], ["id", 980190964]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 17ms (Views: 1.4ms | ActiveRecord: 1.3ms | Allocations: 21573)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.358707"], ["updated_at", "2023-04-17 12:59:15.358707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1692)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.369073"], ["updated_at", "2023-04-17 12:59:15.369073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190966" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.378705"], ["updated_at", "2023-04-17 12:59:15.378705"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.387215"], ["updated_at", "2023-04-17 12:59:15.387215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (1.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 401 Unauthorized in 4ms (Views: 0.5ms | ActiveRecord: 1.5ms | Allocations: 515)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 12:59:15.400698"], ["updated_at", "2023-04-17 12:59:15.400698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 15:59:15 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.57ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.2ms | Allocations: 2116)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.895238', '2023-04-17 13:00:06.895238'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.895238', '2023-04-17 13:00:06.895238');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.899030', '2023-04-17 13:00:06.899030'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:00:06.899030', '2023-04-17 13:00:06.899030')[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.011094"], ["updated_at", "2023-04-17 13:00:07.011094"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 13ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 22416)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.040752"], ["updated_at", "2023-04-17 13:00:07.040752"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190964], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:00:07.047321"], ["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 1267)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.053491"], ["updated_at", "2023-04-17 13:00:07.053491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.060027"], ["updated_at", "2023-04-17 13:00:07.060027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190966" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.8ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.071297"], ["updated_at", "2023-04-17 13:00:07.071297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 721)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.079897"], ["updated_at", "2023-04-17 13:00:07.079897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1476)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:00:07.089391"], ["updated_at", "2023-04-17 13:00:07.089391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 16:00:07 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms | Allocations: 2115)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.510952', '2023-04-17 13:01:31.510952'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.510952', '2023-04-17 13:01:31.510952');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.515134', '2023-04-17 13:01:31.515134'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:01:31.515134', '2023-04-17 13:01:31.515134')[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.615685"], ["updated_at", "2023-04-17 13:01:31.615685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 401 Unauthorized in 14ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 21073)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.645476"], ["updated_at", "2023-04-17 13:01:31.645476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 380)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.652126"], ["updated_at", "2023-04-17 13:01:31.652126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1486)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.665095"], ["updated_at", "2023-04-17 13:01:31.665095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190966" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms | Allocations: 2222)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.678792"], ["updated_at", "2023-04-17 13:01:31.678792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:01:31.684130"], ["id", 980190967]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1098)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.689217"], ["updated_at", "2023-04-17 13:01:31.689217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:01:31.694898"], ["updated_at", "2023-04-17 13:01:31.694898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190969], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 2368)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:01:31.703629"], ["updated_at", "2023-04-17 13:01:31.703629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190970" for 127.0.0.1 at 2023-04-17 16:01:31 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190970"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190970]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms | Allocations: 348)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.726726', '2023-04-17 13:07:42.726726'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.726726', '2023-04-17 13:07:42.726726');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.730303', '2023-04-17 13:07:42.730303'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:07:42.730303', '2023-04-17 13:07:42.730303')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.865059"], ["updated_at", "2023-04-17 13:07:42.865059"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 13ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 21073)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.896907"], ["updated_at", "2023-04-17 13:07:42.896907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms | Allocations: 487)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.907348"], ["updated_at", "2023-04-17 13:07:42.907348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2478)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.7ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.919546"], ["updated_at", "2023-04-17 13:07:42.919546"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.928197"], ["updated_at", "2023-04-17 13:07:42.928197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190967], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:07:42.933428"], ["id", 980190967]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1091)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.938033"], ["updated_at", "2023-04-17 13:07:42.938033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:07:42.943574"], ["updated_at", "2023-04-17 13:07:42.943574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190969], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 201 Created in 9ms (Views: 3.0ms | ActiveRecord: 1.3ms | Allocations: 3264)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:07:42.953998"], ["updated_at", "2023-04-17 13:07:42.953998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190970" for 127.0.0.1 at 2023-04-17 16:07:42 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190970"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.315153', '2023-04-17 13:08:23.315153'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.315153', '2023-04-17 13:08:23.315153');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.319961', '2023-04-17 13:08:23.319961'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:08:23.319961', '2023-04-17 13:08:23.319961')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.472082"], ["updated_at", "2023-04-17 13:08:23.472082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:08:23.495334"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 1.1ms | Allocations: 21574)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.502754"], ["updated_at", "2023-04-17 13:08:23.502754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:08:23.507107"], ["updated_at", "2023-04-17 13:08:23.507107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 AND "interviewees"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190965], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.42ms)
Completed 201 Created in 9ms (Views: 4.0ms | ActiveRecord: 1.0ms | Allocations: 3263)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.518309"], ["updated_at", "2023-04-17 13:08:23.518309"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 882)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.529267"], ["updated_at", "2023-04-17 13:08:23.529267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.535330"], ["updated_at", "2023-04-17 13:08:23.535330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190968" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.545125"], ["updated_at", "2023-04-17 13:08:23.545125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.3ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mInterviewee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "interviewees" WHERE "interviewees"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:08:23.554459"], ["updated_at", "2023-04-17 13:08:23.554459"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:08:23 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.318910', '2023-04-17 13:10:14.318910'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.318910', '2023-04-17 13:10:14.318910');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.322434', '2023-04-17 13:10:14.322434'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 13:10:14.322434', '2023-04-17 13:10:14.322434')[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.434788"], ["updated_at", "2023-04-17 13:10:14.434788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 401 Unauthorized in 12ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 21093)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.461629"], ["updated_at", "2023-04-17 13:10:14.461629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190964" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.24ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 2249)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.472695"], ["updated_at", "2023-04-17 13:10:14.472695"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.1ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.478210"], ["updated_at", "2023-04-17 13:10:14.478210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 13:10:14.481660"], ["updated_at", "2023-04-17 13:10:14.481660"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 201 Created in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 828)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.486937"], ["updated_at", "2023-04-17 13:10:14.486937"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190968" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 355)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.495067"], ["updated_at", "2023-04-17 13:10:14.495067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 422 Unprocessable Entity in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 676)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 13:10:14.502299"], ["updated_at", "2023-04-17 13:10:14.502299"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 16:10:14 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 13:10:14.506729"], ["id", 980190970]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 695)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.460322', '2023-04-17 15:27:32.460322'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.460322', '2023-04-17 15:27:32.460322');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.473383', '2023-04-17 15:27:32.473383'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 15:27:32.473383', '2023-04-17 15:27:32.473383')[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.731896"], ["updated_at", "2023-04-17 15:27:32.731896"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.6ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 19ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 21093)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.854918"], ["updated_at", "2023-04-17 15:27:32.854918"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.3ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 1.0ms | Allocations: 488)
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.866757"], ["updated_at", "2023-04-17 15:27:32.866757"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.874686"], ["updated_at", "2023-04-17 15:27:32.874686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 15:27:32.880364"], ["updated_at", "2023-04-17 15:27:32.880364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.29ms)
Completed 201 Created in 9ms (Views: 4.0ms | ActiveRecord: 0.7ms | Allocations: 2563)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.892690"], ["updated_at", "2023-04-17 15:27:32.892690"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.4ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 15:27:32.899115"], ["id", 980190968]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 695)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.905217"], ["updated_at", "2023-04-17 15:27:32.905217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190969" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.55ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 381)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 15:27:32.916545"], ["updated_at", "2023-04-17 15:27:32.916545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 18:27:32 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 845)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (42.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "api_test"[0m
  [1m[35m (227.8ms)[0m  [1m[35mCREATE DATABASE "api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "answers" CASCADE[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "answers" ("id" bigserial primary key, "question_id" integer, "answer1" character varying, "answer2" character varying, "answer3" character varying, "answer4" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "assessments" CASCADE[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "assessments" ("id" bigserial primary key, "interviewee_id" character varying, "recruiter_id" character varying, "name" character varying, "accepted" boolean, "due_date" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "interviewees" CASCADE[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "interviewees" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "grades" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "questions" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "questions" ("id" bigserial primary key, "assessment_id" integer, "question" character varying, "feedback" character varying, "answer" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "recruiters" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "recruiters" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230414184511)[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230414184103),
(20230414184213),
(20230414184331),
(20230414184352);

[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 16:24:15.507852"], ["updated_at", "2023-04-17 16:24:15.507852"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "3281b3f4498633adcc44d8cd34a8d467d8a6cec6"], ["created_at", "2023-04-17 16:24:15.517930"], ["updated_at", "2023-04-17 16:24:15.517930"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (51.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "api_test"[0m
  [1m[35m (237.3ms)[0m  [1m[35mCREATE DATABASE "api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "answers" CASCADE[0m
  [1m[35m (39.3ms)[0m  [1m[35mCREATE TABLE "answers" ("id" bigserial primary key, "question_id" integer, "answer1" character varying, "answer2" character varying, "answer3" character varying, "answer4" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "assessments" CASCADE[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "assessments" ("id" bigserial primary key, "interviewee_id" character varying, "recruiter_id" character varying, "name" character varying, "accepted" boolean, "due_date" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "interviewees" CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "interviewees" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "firstname" character varying, "lastname" character varying, "bio" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "questions" CASCADE[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "questions" ("id" bigserial primary key, "assessment_id" integer, "question" character varying, "feedback" character varying, "answer" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "recruiters" CASCADE[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "recruiters" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "firstname" character varying, "lastname" character varying, "company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230417085139)[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230414184103),
(20230414184213),
(20230414184511),
(20230417085126);

[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-04-17 16:35:54.396901"], ["updated_at", "2023-04-17 16:35:54.396901"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c586a8e3f2e70737869f75862f692a0bbd68fa33"], ["created_at", "2023-04-17 16:35:54.513053"], ["updated_at", "2023-04-17 16:35:54.513053"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-17 16:35:56.635208', '2023-04-17 16:35:56.635208'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-17 16:35:56.635208', '2023-04-17 16:35:56.635208');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.655343', '2023-04-17 16:35:56.655343'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.655343', '2023-04-17 16:35:56.655343');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.660952', '2023-04-17 16:35:56.660952'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.660952', '2023-04-17 16:35:56.660952');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.664992', '2023-04-17 16:35:56.664992'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.664992', '2023-04-17 16:35:56.664992');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.668537', '2023-04-17 16:35:56.668537'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:35:56.668537', '2023-04-17 16:35:56.668537')[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.6ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:35:58.357736"], ["updated_at", "2023-04-17 16:35:58.357736"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 19:35:58 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (1.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.31ms)
Completed 200 OK in 193ms (Views: 40.2ms | ActiveRecord: 1.5ms | Allocations: 21430)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.6ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:35:58.892854"], ["updated_at", "2023-04-17 16:35:58.892854"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190964" for 127.0.0.1 at 2023-04-17 19:35:58 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (14.65ms)
Completed 200 OK in 134ms (Views: 130.2ms | ActiveRecord: 0.9ms | Allocations: 2261)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (2.0ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:35:59.095277"], ["updated_at", "2023-04-17 16:35:59.095277"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 19:35:59 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (1.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (1.0ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 16:35:59.130314"], ["id", 980190965]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 200 OK in 25ms (Views: 1.5ms | ActiveRecord: 3.3ms | Allocations: 835)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.6ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:35:59.152889"], ["updated_at", "2023-04-17 16:35:59.152889"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 19:35:59 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.6ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 404 Not Found in 3ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 256)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.9ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:35:59.170147"], ["updated_at", "2023-04-17 16:35:59.170147"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 19:35:59 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.6ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 16:35:59.182643"], ["updated_at", "2023-04-17 16:35:59.182643"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.61ms)
Completed 201 Created in 10ms (Views: 1.3ms | ActiveRecord: 1.3ms | Allocations: 852)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:35:59.198567"], ["updated_at", "2023-04-17 16:35:59.198567"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 19:35:59 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (1.0ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 401 Unauthorized in 8ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 515)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.6ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:35:59.220725"], ["updated_at", "2023-04-17 16:35:59.220725"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190970" for 127.0.0.1 at 2023-04-17 19:35:59 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190970"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.6ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190970]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 2.2ms | Allocations: 348)
  [1m[36mInterviewee Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-17 16:43:13.082190', '2023-04-17 16:43:13.082190'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-17 16:43:13.082190', '2023-04-17 16:43:13.082190');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.109562', '2023-04-17 16:43:13.109562'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.109562', '2023-04-17 16:43:13.109562');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.120108', '2023-04-17 16:43:13.120108'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.120108', '2023-04-17 16:43:13.120108');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.124627', '2023-04-17 16:43:13.124627'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.124627', '2023-04-17 16:43:13.124627');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.128513', '2023-04-17 16:43:13.128513'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-17 16:43:13.128513', '2023-04-17 16:43:13.128513')[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.6ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:43:13.566726"], ["updated_at", "2023-04-17 16:43:13.566726"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 19:43:13 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.7ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.5ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-17 16:43:13.790974"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 200 OK in 120ms (Views: 20.8ms | ActiveRecord: 2.0ms | Allocations: 21229)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:43:13.836520"], ["updated_at", "2023-04-17 16:43:13.836520"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-17 19:43:13 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:43:13.844889"], ["updated_at", "2023-04-17 16:43:13.844889"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190965" for 127.0.0.1 at 2023-04-17 19:43:13 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190965"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.3ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190965]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.9ms | Allocations: 454)
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:43:13.857793"], ["updated_at", "2023-04-17 16:43:13.857793"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-17 19:43:13 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-17 16:43:13.864549"], ["updated_at", "2023-04-17 16:43:13.864549"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (1.42ms)
Completed 201 Created in 62ms (Views: 57.8ms | ActiveRecord: 0.6ms | Allocations: 2587)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:43:13.939733"], ["updated_at", "2023-04-17 16:43:13.939733"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190968" for 127.0.0.1 at 2023-04-17 19:43:13 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.32ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 382)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:43:13.990585"], ["updated_at", "2023-04-17 16:43:13.990585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 19:43:13 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.6ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 401 Unauthorized in 5ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 724)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-17 16:43:14.004750"], ["updated_at", "2023-04-17 16:43:14.004750"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-17 19:43:14 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.7ms)
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 845)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 05:57:16.179496', '2023-04-18 05:57:16.179496'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 05:57:16.179496', '2023-04-18 05:57:16.179496');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.204425', '2023-04-18 05:57:16.204425'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.204425', '2023-04-18 05:57:16.204425');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.219411', '2023-04-18 05:57:16.219411'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.219411', '2023-04-18 05:57:16.219411');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.237196', '2023-04-18 05:57:16.237196'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.237196', '2023-04-18 05:57:16.237196');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.249245', '2023-04-18 05:57:16.249245'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:57:16.249245', '2023-04-18 05:57:16.249245')[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:57:17.376738"], ["updated_at", "2023-04-18 05:57:17.376738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 08:57:17 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (1.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (19.85ms)
Completed 200 OK in 134ms (Views: 31.1ms | ActiveRecord: 1.3ms | Allocations: 21429)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:57:17.683850"], ["updated_at", "2023-04-18 05:57:17.683850"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-18 08:57:17 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.3ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 1.1ms | Allocations: 489)
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:57:17.696670"], ["updated_at", "2023-04-18 05:57:17.696670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 08:57:17 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:57:17.707951"], ["updated_at", "2023-04-18 05:57:17.707951"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190966" for 127.0.0.1 at 2023-04-18 08:57:17 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (18.33ms)
Completed 200 OK in 131ms (Views: 129.7ms | ActiveRecord: 0.3ms | Allocations: 2106)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.9ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:57:17.878184"], ["updated_at", "2023-04-18 05:57:17.878184"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 08:57:17 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.6ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 05:57:17.891549"], ["id", 980190967]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.7ms | Allocations: 828)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:57:17.900489"], ["updated_at", "2023-04-18 05:57:17.900489"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 08:57:17 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:57:17.908108"], ["updated_at", "2023-04-18 05:57:17.908108"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 08:57:17 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 05:57:17.912993"], ["updated_at", "2023-04-18 05:57:17.912993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.23ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 852)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 05:58:37.961664', '2023-04-18 05:58:37.961664'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 05:58:37.961664', '2023-04-18 05:58:37.961664');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:37.984436', '2023-04-18 05:58:37.984436'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:37.984436', '2023-04-18 05:58:37.984436');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:37.998382', '2023-04-18 05:58:37.998382'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:37.998382', '2023-04-18 05:58:37.998382');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:38.008531', '2023-04-18 05:58:38.008531'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:38.008531', '2023-04-18 05:58:38.008531');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:38.014692', '2023-04-18 05:58:38.014692'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 05:58:38.014692', '2023-04-18 05:58:38.014692')[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.1ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:58:38.623402"], ["updated_at", "2023-04-18 05:58:38.623402"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 08:58:38 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (1.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.58ms)
Completed 200 OK in 199ms (Views: 56.8ms | ActiveRecord: 1.2ms | Allocations: 21429)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:58:39.025926"], ["updated_at", "2023-04-18 05:58:39.025926"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.3ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.1ms | Allocations: 488)
  [1m[36mInterviewee Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:58:39.050059"], ["updated_at", "2023-04-18 05:58:39.050059"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 354)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:58:39.061277"], ["updated_at", "2023-04-18 05:58:39.061277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:58:39.070326"], ["updated_at", "2023-04-18 05:58:39.070326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190967" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190967"}
  [1m[36mInterviewee Load (0.9ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (1.38ms)
Completed 200 OK in 160ms (Views: 156.0ms | ActiveRecord: 0.9ms | Allocations: 2111)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:58:39.283882"], ["updated_at", "2023-04-18 05:58:39.283882"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 05:58:39.304074"], ["updated_at", "2023-04-18 05:58:39.304074"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.46ms)
Completed 201 Created in 9ms (Views: 1.2ms | ActiveRecord: 0.9ms | Allocations: 852)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.8ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 05:58:39.313633"], ["updated_at", "2023-04-18 05:58:39.313633"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 05:58:39.323321"], ["id", 980190970]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 730)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 05:58:39.345083"], ["updated_at", "2023-04-18 05:58:39.345083"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 05:58:39.352033"], ["updated_at", "2023-04-18 05:58:39.352033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
RecruitersControllerTest - test_should_delete_recruiter_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 05:58:39.358663"], ["updated_at", "2023-04-18 05:58:39.358663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.9ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 404 Not Found in 8ms (Views: 1.6ms | ActiveRecord: 0.9ms | Allocations: 362)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.7ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 05:58:39.424351"], ["updated_at", "2023-04-18 05:58:39.424351"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 05:58:39.443314"], ["updated_at", "2023-04-18 05:58:39.443314"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 05:58:39.456159"], ["updated_at", "2023-04-18 05:58:39.456159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter" for 127.0.0.1 at 2023-04-18 08:58:39 +0300
Processing by RecruitersController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "company"=>"New company", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["company", "New company"], ["created_at", "2023-04-18 05:58:39.463977"], ["updated_at", "2023-04-18 05:58:39.463977"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190969], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190969], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 17ms (Views: 1.7ms | ActiveRecord: 2.0ms | Allocations: 2418)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 05:58:39.483754"], ["updated_at", "2023-04-18 05:58:39.483754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:01:46.541342', '2023-04-18 06:01:46.541342'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:01:46.541342', '2023-04-18 06:01:46.541342');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.562416', '2023-04-18 06:01:46.562416'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.562416', '2023-04-18 06:01:46.562416');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.569668', '2023-04-18 06:01:46.569668'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.569668', '2023-04-18 06:01:46.569668');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.574671', '2023-04-18 06:01:46.574671'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.574671', '2023-04-18 06:01:46.574671');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.578754', '2023-04-18 06:01:46.578754'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:01:46.578754', '2023-04-18 06:01:46.578754')[0m
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:01:47.160014"], ["updated_at", "2023-04-18 06:01:47.160014"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190963" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (36.29ms)
Completed 200 OK in 197ms (Views: 140.2ms | ActiveRecord: 0.6ms | Allocations: 22297)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:01:47.588049"], ["updated_at", "2023-04-18 06:01:47.588049"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:01:47.605804"], ["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 1.0ms | Allocations: 1156)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:01:47.615312"], ["updated_at", "2023-04-18 06:01:47.615312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 06:01:47.621756"], ["updated_at", "2023-04-18 06:01:47.621756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.5ms)
Completed 201 Created in 5ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 852)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:01:47.628950"], ["updated_at", "2023-04-18 06:01:47.628950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.75ms)
Completed 200 OK in 10ms (Views: 1.3ms | ActiveRecord: 0.5ms | Allocations: 1056)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:01:47.647172"], ["updated_at", "2023-04-18 06:01:47.647172"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 404 Not Found in 1ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:01:47.656506"], ["updated_at", "2023-04-18 06:01:47.656506"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190969" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190969"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.3ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190969]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.8ms | Allocations: 348)
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:01:47.668528"], ["updated_at", "2023-04-18 06:01:47.668528"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.8ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:01:47.701454"], ["updated_at", "2023-04-18 06:01:47.701454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:01:47.708569"], ["updated_at", "2023-04-18 06:01:47.708569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:01:47.715640"], ["updated_at", "2023-04-18 06:01:47.715640"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by RecruitersController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "company"=>"New company", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (1.6ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["company", "New company"], ["created_at", "2023-04-18 06:01:47.799413"], ["updated_at", "2023-04-18 06:01:47.799413"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190966], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190966], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 422 Unprocessable Entity in 36ms (Views: 1.6ms | ActiveRecord: 7.2ms | Allocations: 1490)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.5ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:01:47.833407"], ["updated_at", "2023-04-18 06:01:47.833407"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:01:47.844676"], ["updated_at", "2023-04-18 06:01:47.844676"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:01:47 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 404 Not Found in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 358)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:01:47.855687"], ["updated_at", "2023-04-18 06:01:47.855687"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
RecruitersControllerTest - test_should_delete_recruiter_account: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:01:47.863023"], ["updated_at", "2023-04-18 06:01:47.863023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:06:24.813505', '2023-04-18 06:06:24.813505'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:06:24.813505', '2023-04-18 06:06:24.813505');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.835635', '2023-04-18 06:06:24.835635'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.835635', '2023-04-18 06:06:24.835635');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.849687', '2023-04-18 06:06:24.849687'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.849687', '2023-04-18 06:06:24.849687');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.859312', '2023-04-18 06:06:24.859312'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.859312', '2023-04-18 06:06:24.859312');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.864992', '2023-04-18 06:06:24.864992'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:06:24.864992', '2023-04-18 06:06:24.864992')[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:06:25.449337"], ["updated_at", "2023-04-18 06:06:25.449337"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.8ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.72ms)
Completed 200 OK in 126ms (Views: 48.4ms | ActiveRecord: 0.8ms | Allocations: 21429)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:06:25.748866"], ["updated_at", "2023-04-18 06:06:25.748866"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.5ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 06:06:25.767451"], ["updated_at", "2023-04-18 06:06:25.767451"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (1.26ms)
Completed 201 Created in 83ms (Views: 74.9ms | ActiveRecord: 1.1ms | Allocations: 2582)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:06:25.861008"], ["updated_at", "2023-04-18 06:06:25.861008"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.5ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:06:25.876186"], ["id", 980190966]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 862)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:06:25.883499"], ["updated_at", "2023-04-18 06:06:25.883499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190967" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190967"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190967]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 454)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:06:25.893180"], ["updated_at", "2023-04-18 06:06:25.893180"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190968" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 381)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:06:25.934727"], ["updated_at", "2023-04-18 06:06:25.934727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:06:25.941944"], ["updated_at", "2023-04-18 06:06:25.941944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.6ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:06:25.969004"], ["updated_at", "2023-04-18 06:06:25.969004"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/login" for 127.0.0.1 at 2023-04-18 09:06:25 +0300
Processing by RecruitersController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (1.4ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "recruiters"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 422 Unprocessable Entity in 17ms (Views: 1.7ms | ActiveRecord: 1.4ms | Allocations: 751)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:06:26.029319"], ["updated_at", "2023-04-18 06:06:26.029319"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter" for 127.0.0.1 at 2023-04-18 09:06:26 +0300
Processing by RecruitersController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "company"=>"New company", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["company", "New company"], ["created_at", "2023-04-18 06:06:26.037843"], ["updated_at", "2023-04-18 06:06:26.037843"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190965], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190965], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 1472)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:06:26.047616"], ["updated_at", "2023-04-18 06:06:26.047616"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:06:26.055149"], ["updated_at", "2023-04-18 06:06:26.055149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
Started DELETE "/recruiter/delete/980190967" for 127.0.0.1 at 2023-04-18 09:06:26 +0300
Processing by RecruitersController#delete_account as HTML
  Parameters: {"id"=>"980190967"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Destroy (0.2ms)[0m  [1m[31mDELETE FROM "recruiters" WHERE "recruiters"."id" = $1[0m  [["id", 980190967]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 432)
  [1m[36mRecruiter Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:06:26.064839"], ["updated_at", "2023-04-18 06:06:26.064839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:06:26.070263"], ["updated_at", "2023-04-18 06:06:26.070263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:06:26 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 404 Not Found in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 353)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:06:26.079472"], ["updated_at", "2023-04-18 06:06:26.079472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (5.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:13:02.247125', '2023-04-18 06:13:02.247125'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:13:02.247125', '2023-04-18 06:13:02.247125');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.252529', '2023-04-18 06:13:02.252529'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.252529', '2023-04-18 06:13:02.252529');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.255751', '2023-04-18 06:13:02.255751'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.255751', '2023-04-18 06:13:02.255751');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.258829', '2023-04-18 06:13:02.258829'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.258829', '2023-04-18 06:13:02.258829');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.261163', '2023-04-18 06:13:02.261163'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:13:02.261163', '2023-04-18 06:13:02.261163')[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.1ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:13:02.668810"], ["updated_at", "2023-04-18 06:13:02.668810"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190963" for 127.0.0.1 at 2023-04-18 09:13:02 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mInterviewee Load (1.0ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190963], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (11.45ms)
Completed 200 OK in 237ms (Views: 136.3ms | ActiveRecord: 1.7ms | Allocations: 22300)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.0ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:13:03.097076"], ["updated_at", "2023-04-18 06:13:03.097076"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.8ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 401 Unauthorized in 8ms (Views: 1.8ms | ActiveRecord: 0.8ms | Allocations: 1051)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:13:03.139493"], ["updated_at", "2023-04-18 06:13:03.139493"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:13:03.146248"], ["id", 980190965]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 835)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:13:03.151833"], ["updated_at", "2023-04-18 06:13:03.151833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190966" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.5ms | Allocations: 348)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:13:03.170401"], ["updated_at", "2023-04-18 06:13:03.170401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 06:13:03.174710"], ["updated_at", "2023-04-18 06:13:03.174710"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.26ms)
Completed 201 Created in 5ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 852)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:13:03.180663"], ["updated_at", "2023-04-18 06:13:03.180663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 845)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:13:03.189770"], ["updated_at", "2023-04-18 06:13:03.189770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.04ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:13:03.207330"], ["updated_at", "2023-04-18 06:13:03.207330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:13:03.212871"], ["updated_at", "2023-04-18 06:13:03.212871"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:13:03.218905"], ["updated_at", "2023-04-18 06:13:03.218905"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:13:03.225582"], ["updated_at", "2023-04-18 06:13:03.225582"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
Started DELETE "/recruiter/delete/980190966" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by RecruitersController#delete_account as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mRecruiter Load (0.4ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Destroy (0.5ms)[0m  [1m[31mDELETE FROM "recruiters" WHERE "recruiters"."id" = $1[0m  [["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (ActiveRecord: 1.2ms | Allocations: 447)
  [1m[36mRecruiter Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:13:03.275387"], ["updated_at", "2023-04-18 06:13:03.275387"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by RecruitersController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "company"=>"New company", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["company", "New company"], ["created_at", "2023-04-18 06:13:03.287492"], ["updated_at", "2023-04-18 06:13:03.287492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190968], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190968], ["LIMIT", 1]]
[active_model_serializers] Rendered RecruiterSerializer with ActiveModelSerializers::Adapter::Attributes (6.51ms)
Completed 201 Created in 76ms (Views: 57.4ms | ActiveRecord: 1.7ms | Allocations: 1979)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:13:03.375284"], ["updated_at", "2023-04-18 06:13:03.375284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/login" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by RecruitersController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.4ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "recruiters"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.44ms)
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 1050)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:13:03.395980"], ["updated_at", "2023-04-18 06:13:03.395980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:13:03 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:16:28.882115', '2023-04-18 06:16:28.882115'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:16:28.882115', '2023-04-18 06:16:28.882115');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.903686', '2023-04-18 06:16:28.903686'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.903686', '2023-04-18 06:16:28.903686');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.917484', '2023-04-18 06:16:28.917484'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.917484', '2023-04-18 06:16:28.917484');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.927747', '2023-04-18 06:16:28.927747'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.927747', '2023-04-18 06:16:28.927747');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.933623', '2023-04-18 06:16:28.933623'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:16:28.933623', '2023-04-18 06:16:28.933623')[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.5ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:16:29.462375"], ["updated_at", "2023-04-18 06:16:29.462375"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:16:29.474875"], ["updated_at", "2023-04-18 06:16:29.474875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:16:29 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.5ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (11.74ms)
Completed 404 Not Found in 158ms (Views: 30.1ms | ActiveRecord: 0.8ms | Allocations: 20725)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:16:29.771071"], ["updated_at", "2023-04-18 06:16:29.771071"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
Started DELETE "/recruiter/delete/980190965" for 127.0.0.1 at 2023-04-18 09:16:29 +0300
Processing by RecruitersController#delete_account as HTML
  Parameters: {"id"=>"980190965"}
  [1m[36mRecruiter Load (0.3ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Destroy (0.3ms)[0m  [1m[31mDELETE FROM "recruiters" WHERE "recruiters"."id" = $1[0m  [["id", 980190965]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.9ms | Allocations: 473)
  [1m[36mRecruiter Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:16:29.787585"], ["updated_at", "2023-04-18 06:16:29.787585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:16:29.798346"], ["updated_at", "2023-04-18 06:16:29.798346"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:16:29.806036"], ["updated_at", "2023-04-18 06:16:29.806036"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/login" for 127.0.0.1 at 2023-04-18 09:16:29 +0300
Processing by RecruitersController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.5ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "recruiters"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 1175)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:16:29.821789"], ["updated_at", "2023-04-18 06:16:29.821789"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter" for 127.0.0.1 at 2023-04-18 09:16:29 +0300
Processing by RecruitersController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "company"=>"New company", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["company", "New company"], ["created_at", "2023-04-18 06:16:29.828093"], ["updated_at", "2023-04-18 06:16:29.828093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190970], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190970], ["LIMIT", 1]]
[active_model_serializers] Rendered RecruiterSerializer with ActiveModelSerializers::Adapter::Attributes (2.59ms)
Completed 201 Created in 116ms (Views: 110.2ms | ActiveRecord: 1.3ms | Allocations: 3387)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:16:29.993852"], ["updated_at", "2023-04-18 06:16:29.993852"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:16:29 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.5ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:16:30.027362"], ["updated_at", "2023-04-18 06:16:30.027362"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:16:30 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:16:30.036694"], ["updated_at", "2023-04-18 06:16:30.036694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190965" for 127.0.0.1 at 2023-04-18 09:16:30 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190965"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190965], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190965]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.7ms | Allocations: 431)
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:16:30.048899"], ["updated_at", "2023-04-18 06:16:30.048899"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:16:30 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.2ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:16:30.056203"], ["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 730)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:16:30.062924"], ["updated_at", "2023-04-18 06:16:30.062924"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190967" for 127.0.0.1 at 2023-04-18 09:16:30 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190967"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (1.33ms)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.3ms | Allocations: 650)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:16:30.110641"], ["updated_at", "2023-04-18 06:16:30.110641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:16:30 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 777)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:16:30.123277"], ["updated_at", "2023-04-18 06:16:30.123277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 09:16:30 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 06:16:30.130720"], ["updated_at", "2023-04-18 06:16:30.130720"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 852)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:19:46.764679', '2023-04-18 06:19:46.764679'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:19:46.764679', '2023-04-18 06:19:46.764679');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.787749', '2023-04-18 06:19:46.787749'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.787749', '2023-04-18 06:19:46.787749');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.802285', '2023-04-18 06:19:46.802285'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.802285', '2023-04-18 06:19:46.802285');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.810833', '2023-04-18 06:19:46.810833'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.810833', '2023-04-18 06:19:46.810833');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.816006', '2023-04-18 06:19:46.816006'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:19:46.816006', '2023-04-18 06:19:46.816006')[0m
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.6ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:19:47.658893"], ["updated_at", "2023-04-18 06:19:47.658893"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:19:47 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:19:47.991876"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (12.48ms)
Completed 200 OK in 159ms (Views: 44.1ms | ActiveRecord: 0.9ms | Allocations: 21233)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (1.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:19:48.076482"], ["updated_at", "2023-04-18 06:19:48.076482"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.7ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 15ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 726)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:19:48.107951"], ["updated_at", "2023-04-18 06:19:48.107951"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 06:19:48.112961"], ["updated_at", "2023-04-18 06:19:48.112961"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (34.04ms)
Completed 201 Created in 140ms (Views: 135.8ms | ActiveRecord: 0.6ms | Allocations: 2591)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:19:48.257315"], ["updated_at", "2023-04-18 06:19:48.257315"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 404 Not Found in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:19:48.268447"], ["updated_at", "2023-04-18 06:19:48.268447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190968" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.2ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 455)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:19:48.278049"], ["updated_at", "2023-04-18 06:19:48.278049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.7ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 200 OK in 22ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:19:48.306162"], ["updated_at", "2023-04-18 06:19:48.306162"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190970" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190970"}
  [1m[36mInterviewee Load (0.4ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.45ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.4ms | Allocations: 381)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:19:48.400445"], ["updated_at", "2023-04-18 06:19:48.400445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.9ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190963], ["LIMIT", 1]]
  [1m[36mRecruiter Update (1.2ms)[0m  [1m[33mUPDATE "recruiters" SET "password_digest" = $1, "updated_at" = $2 WHERE "recruiters"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:19:48.515177"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 200 OK in 46ms (Views: 6.0ms | ActiveRecord: 5.7ms | Allocations: 1236)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.6ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:19:48.557420"], ["updated_at", "2023-04-18 06:19:48.557420"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/login" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by RecruitersController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.5ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "recruiters"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 7ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 705)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:19:48.577559"], ["updated_at", "2023-04-18 06:19:48.577559"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by RecruitersController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "company"=>"New company", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["company", "New company"], ["created_at", "2023-04-18 06:19:48.585116"], ["updated_at", "2023-04-18 06:19:48.585116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190966], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190966], ["LIMIT", 1]]
[active_model_serializers] Rendered RecruiterSerializer with ActiveModelSerializers::Adapter::Attributes (0.28ms)
Completed 201 Created in 61ms (Views: 50.3ms | ActiveRecord: 1.2ms | Allocations: 1954)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (13.7ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:19:48.661435"], ["updated_at", "2023-04-18 06:19:48.661435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 257)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:19:48.669105"], ["updated_at", "2023-04-18 06:19:48.669105"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
Started DELETE "/recruiter/delete/980190968" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by RecruitersController#delete_account as HTML
  Parameters: {"id"=>"980190968"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Destroy (0.2ms)[0m  [1m[31mDELETE FROM "recruiters" WHERE "recruiters"."id" = $1[0m  [["id", 980190968]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 2ms (ActiveRecord: 0.6ms | Allocations: 433)
  [1m[36mRecruiter Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:19:48.681205"], ["updated_at", "2023-04-18 06:19:48.681205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/login" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by RecruitersController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "recruiters"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 860)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:19:48.690788"], ["updated_at", "2023-04-18 06:19:48.690788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/recruiter/980190970" for 127.0.0.1 at 2023-04-18 09:19:48 +0300
Processing by RecruitersController#show as HTML
  Parameters: {"id"=>"980190970"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
[active_model_serializers] Rendered RecruiterSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "answers" DISABLE TRIGGER ALL;ALTER TABLE "assessments" DISABLE TRIGGER ALL;ALTER TABLE "interviewees" DISABLE TRIGGER ALL;ALTER TABLE "questions" DISABLE TRIGGER ALL;ALTER TABLE "recruiters" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "assessments";
DELETE FROM "questions";
DELETE FROM "answers";
DELETE FROM "recruiters";
DELETE FROM "interviewees";
INSERT INTO "assessments" ("id", "interviewee_id", "recruiter_id", "name", "accepted", "due_date", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:21:46.884724', '2023-04-18 06:21:46.884724'), (298486374, 'MyString', 'MyString', 'MyString', FALSE, '2023-04-14 21:45:11', '2023-04-18 06:21:46.884724', '2023-04-18 06:21:46.884724');
INSERT INTO "questions" ("id", "assessment_id", "question", "feedback", "answer", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.900458', '2023-04-18 06:21:46.900458'), (298486374, 1, 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.900458', '2023-04-18 06:21:46.900458');
INSERT INTO "answers" ("id", "question_id", "answer1", "answer2", "answer3", "answer4", "created_at", "updated_at") VALUES (980190962, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.906716', '2023-04-18 06:21:46.906716'), (298486374, 1, 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.906716', '2023-04-18 06:21:46.906716');
INSERT INTO "recruiters" ("id", "username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.911236', '2023-04-18 06:21:46.911236'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.911236', '2023-04-18 06:21:46.911236');
INSERT INTO "interviewees" ("id", "username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.915435', '2023-04-18 06:21:46.915435'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2023-04-18 06:21:46.915435', '2023-04-18 06:21:46.915435')[0m
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "answers" ENABLE TRIGGER ALL;ALTER TABLE "assessments" ENABLE TRIGGER ALL;ALTER TABLE "interviewees" ENABLE TRIGGER ALL;ALTER TABLE "questions" ENABLE TRIGGER ALL;ALTER TABLE "recruiters" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
RecruitersControllerTest: test_should_login_recruiter_with_valid_credentials
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:21:47.420755"], ["updated_at", "2023-04-18 06:21:47.420755"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/login" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by RecruitersController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (1.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "recruiters"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.42ms)
Completed 200 OK in 121ms (Views: 20.6ms | ActiveRecord: 1.2ms | Allocations: 21533)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
RecruitersControllerTest: test_should_delete_recruiter_account
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:21:47.698614"], ["updated_at", "2023-04-18 06:21:47.698614"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
Started DELETE "/recruiter/delete/980190964" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by RecruitersController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Destroy (0.2ms)[0m  [1m[31mDELETE FROM "recruiters" WHERE "recruiters"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.8ms | Allocations: 488)
  [1m[36mRecruiter Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recruiters"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_reset_recruiter_password_with_invalid_email
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.4ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:21:47.711014"], ["updated_at", "2023-04-18 06:21:47.711014"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
RecruitersControllerTest: test_should_reset_recruiter_password_with_valid_email
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:21:47.719229"], ["updated_at", "2023-04-18 06:21:47.719229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/reset" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by RecruitersController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.2ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "test@example.com"], ["id", 980190966], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "testuser"], ["id", 980190966], ["LIMIT", 1]]
  [1m[36mRecruiter Update (0.3ms)[0m  [1m[33mUPDATE "recruiters" SET "password_digest" = $1, "updated_at" = $2 WHERE "recruiters"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:21:47.726593"], ["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 1145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
RecruitersControllerTest: test_should_show_recruiter
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:21:47.732450"], ["updated_at", "2023-04-18 06:21:47.732450"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/recruiter/980190967" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by RecruitersController#show as HTML
  Parameters: {"id"=>"980190967"}
  [1m[36mRecruiter Load (0.3ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE "recruiters"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
[active_model_serializers] Rendered RecruiterSerializer with ActiveModelSerializers::Adapter::Attributes (1.39ms)
Completed 200 OK in 126ms (Views: 125.2ms | ActiveRecord: 0.3ms | Allocations: 2114)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------
RecruitersControllerTest: test_should_not_login_recruiter_with_invalid_credentials
----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.7ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:21:47.898088"], ["updated_at", "2023-04-18 06:21:47.898088"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter/login" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by RecruitersController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mRecruiter Load (0.4ms)[0m  [1m[34mSELECT "recruiters".* FROM "recruiters" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "recruiters"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 401 Unauthorized in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 515)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
RecruitersControllerTest: test_should_register_recruiiter
---------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.3ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["company", "Test company"], ["created_at", "2023-04-18 06:21:47.914137"], ["updated_at", "2023-04-18 06:21:47.914137"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/recruiter" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by RecruitersController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "company"=>"New company", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 LIMIT $2[0m  [["email", "newuser@example.com"], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mRecruiter Create (0.2ms)[0m  [1m[32mINSERT INTO "recruiters" ("username", "email", "password_digest", "firstname", "lastname", "company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["company", "New company"], ["created_at", "2023-04-18 06:21:47.920145"], ["updated_at", "2023-04-18 06:21:47.920145"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecruiter Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."email" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["email", "newuser@example.com"], ["id", 980190970], ["LIMIT", 1]]
  [1m[36mRecruiter Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "recruiters" WHERE "recruiters"."username" = $1 AND "recruiters"."id" != $2 LIMIT $3[0m  [["username", "newuser"], ["id", 980190970], ["LIMIT", 1]]
[active_model_serializers] Rendered RecruiterSerializer with ActiveModelSerializers::Adapter::Attributes (0.37ms)
Completed 201 Created in 8ms (Views: 0.8ms | ActiveRecord: 1.5ms | Allocations: 1650)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_login_interviewee_with_valid_credentials
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:21:47.948763"], ["updated_at", "2023-04-18 06:21:47.948763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:21:47 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.9ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.89ms)
Completed 200 OK in 13ms (Views: 1.9ms | ActiveRecord: 0.9ms | Allocations: 1010)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
IntervieweesControllerTest: test_should_delete_interviewee_account
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:21:47.999633"], ["updated_at", "2023-04-18 06:21:47.999633"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInterviewee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
Started DELETE "/interviewee/delete/980190964" for 127.0.0.1 at 2023-04-18 09:21:48 +0300
Processing by IntervieweesController#delete_account as HTML
  Parameters: {"id"=>"980190964"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190964], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Destroy (0.3ms)[0m  [1m[31mDELETE FROM "interviewees" WHERE "interviewees"."id" = $1[0m  [["id", 980190964]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 1.0ms | Allocations: 432)
  [1m[36mInterviewee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "interviewees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_reset_interviewee_password_with_invalid_email
-----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:21:48.012128"], ["updated_at", "2023-04-18 06:21:48.012128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:21:48 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"invalid@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "invalid@example.com"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_reset_interviewee_password_with_valid_email
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:21:48.019301"], ["updated_at", "2023-04-18 06:21:48.019301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/reset" for 127.0.0.1 at 2023-04-18 09:21:48 +0300
Processing by IntervieweesController#reset_password as HTML
  Parameters: {"email"=>"test@example.com", "new_password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Update (0.3ms)[0m  [1m[33mUPDATE "interviewees" SET "password_digest" = $1, "updated_at" = $2 WHERE "interviewees"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-04-18 06:21:48.025650"], ["id", 980190966]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 701)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
IntervieweesControllerTest: test_should_show_interviewee
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:21:48.030665"], ["updated_at", "2023-04-18 06:21:48.030665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/interviewee/980190967" for 127.0.0.1 at 2023-04-18 09:21:48 +0300
Processing by IntervieweesController#show as HTML
  Parameters: {"id"=>"980190967"}
  [1m[36mInterviewee Load (0.2ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE "interviewees"."id" = $1 LIMIT $2[0m  [["id", 980190967], ["LIMIT", 1]]
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.31ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms | Allocations: 646)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
IntervieweesControllerTest: test_should_not_login_interviewee_with_invalid_credentials
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.3ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:21:48.043205"], ["updated_at", "2023-04-18 06:21:48.043205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee/login" for 127.0.0.1 at 2023-04-18 09:21:48 +0300
Processing by IntervieweesController#login as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
  [1m[36mInterviewee Load (0.3ms)[0m  [1m[34mSELECT "interviewees".* FROM "interviewees" WHERE (username = NULL OR email = 'test@example.com') ORDER BY "interviewees"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.05ms)
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 515)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
IntervieweesControllerTest: test_should_register_interviewee
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.4ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "testuser"], ["email", "test@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "Test"], ["lastname", "User"], ["bio", "Test bio"], ["created_at", "2023-04-18 06:21:48.051267"], ["updated_at", "2023-04-18 06:21:48.051267"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/interviewee" for 127.0.0.1 at 2023-04-18 09:21:48 +0300
Processing by IntervieweesController#register as HTML
  Parameters: {"username"=>"newuser", "email"=>"newuser@example.com", "password"=>"[FILTERED]", "bio"=>"New bio", "firstname"=>"New", "lastname"=>"User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInterviewee Create (0.2ms)[0m  [1m[32mINSERT INTO "interviewees" ("username", "email", "password_digest", "firstname", "lastname", "bio", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["username", "newuser"], ["email", "newuser@example.com"], ["password_digest", "[FILTERED]"], ["firstname", "New"], ["lastname", "User"], ["bio", "New bio"], ["created_at", "2023-04-18 06:21:48.056556"], ["updated_at", "2023-04-18 06:21:48.056556"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered IntervieweeSerializer with ActiveModelSerializers::Adapter::Attributes (0.21ms)
Completed 201 Created in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 853)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
